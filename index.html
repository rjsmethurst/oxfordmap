<!DOCTYPE html>

<html>
 
<head>
	<link rel="stylesheet" href="leaflet.css" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
 	<title>MaNGA Meeting 2019 | Oxford Map</title>
</head>

<body>
	<div id="map"></div>
	<style>
    		body {
    			padding: 0;
			margin: 0;
		}
		html, body, #map {
			 height: 100%;
		}
    		
	</style>

	<script src="leaflet.js"></script>
	<script>
		var mymap = L.map('map')
		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    		attribution: 'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://mapbox.com">Mapbox</a>, Info © <a href="https://github.com/rjsmethurst">R Smethurst</a>',
		maxZoom: 18,
    		id: 'mapbox.streets',
    		accessToken: 'pk.eyJ1IjoicmpzbWV0aHVyc3QiLCJhIjoiY2lnbG56YnplMDE0M3RjbTNkems5cWI0aCJ9.ekUxiCzi_8dwkUinlpr1YQ'
}).addTo(mymap);
		
		// mymap.locate({setView: true, maxZoom: 16});
		
		function onLocationFound(e) {
    			L.marker(e.latlng, {icon: homeIcon}).addTo(mymap)
    				.bindPopup('You are here')
    			if (e.latlng.lat > 51.768 || e.latlng.lat < 51.74247 || e.latlng.lng > -1.2336 || e.latlng.lng < -1.27793) {
    				mymap.setView([51.7505017,-1.2589], 15)	
    			} else {
    				mymap.setView(e.latlng, 15)
    			}
		}
		// mymap.on('locationfound', onLocationFound);
		
		function onLocationError(e) {
    			mymap.setView([51.7505017,-1.2589], 15)
		}
		// mymap.on('locationerror', onLocationError);

		mymap.setView([51.75634, -1.25763], 15)

		var homeIcon = L.icon({
    			iconUrl: 'home.png',

			iconSize:     [29, 39], // size of the icon
    			iconAnchor:   [15, 38], // point of the icon which will correspond to marker's location
    			popupAnchor:  [-3, -40] // point from which the popup should open relative to the iconAnchor
    			});
    		var beerIcon = L.icon({
    			iconUrl: 'beer.png',

			iconSize:     [29, 39], // size of the icon
    			iconAnchor:   [15, 38], // point of the icon which will correspond to marker's location
    			popupAnchor:  [-3, -40] // point from which the popup should open relative to the iconAnchor
    			});
    		var foodIcon = L.icon({
    			iconUrl: 'food.png',

			iconSize:     [29, 39], // size of the icon
    			iconAnchor:   [15, 38], // point of the icon which will correspond to marker's location
    			popupAnchor:  [-3, -40] // point from which the popup should open relative to the iconAnchor
    			});
    			
    		var coffeeIcon = L.icon({
    			iconUrl: 'coffee.png',

			iconSize:     [29, 39], // size of the icon
    			iconAnchor:   [15, 38], // point of the icon which will correspond to marker's location
    			popupAnchor:  [-3, -40] // point from which the popup should open relative to the iconAnchor
    			});
    			
    		var busIcon = L.icon({
    			iconUrl: 'bus.png',

			iconSize:     [29, 39], // size of the icon
    			iconAnchor:   [15, 38], // point of the icon which will correspond to marker's location
    			popupAnchor:  [-3, -40] // point from which the popup should open relative to the iconAnchor
    			});
    			
    		var workIcon = L.icon({
    			iconUrl: 'laptop.png',

			iconSize:     [29, 39], // size of the icon
    			iconAnchor:   [15, 38], // point of the icon which will correspond to marker's location
    			popupAnchor:  [-3, -40] // point from which the popup should open relative to the iconAnchor
    			});
    		var moneyIcon = L.icon({
    			iconUrl: 'gbp.png',

			iconSize:     [29, 39], // size of the icon
    			iconAnchor:   [15, 38], // point of the icon which will correspond to marker's location
    			popupAnchor:  [-3, -40] // point from which the popup should open relative to the iconAnchor
    			});

		marker = L.marker([51.7574213, -1.2528598], {icon: homeIcon}).addTo(mymap);
		marker.bindPopup('<b>Mansfield College</b><br>College accomodation');
		
		marker = L.marker([51.75968, -1.25666], {icon: workIcon}).addTo(mymap);
		marker.bindPopup('<b>Martin Wood Lecture Theatre, Clarendon Laboratory</b><br>Conference venue');
		
		marker = L.marker([51.75577, -1.25466], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup('<b>Wadham College</b><br>Conference Dinner Venue Wednesday Night');
		
		marker = L.marker([51.75963, -1.2596], {icon: workIcon}).addTo(mymap);
		marker.bindPopup('<b>Denys Wilkinson Building</b><br>Main Oxford Astronomy department');
		
		marker = L.marker([51.75511, -1.25432], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The Kings Arms</b><br>Large pub which is good for groups with decent food and lots of nooks to disappear in to. Becky. ');

		marker = L.marker([51.7547, -1.25293], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup("<b>The Turf Tavern</b><br>Hidden down two different narrow alley ways, it's definitely worth the adventure to find it. The most quintessential pub you will ever find with low ceilings, tiny bar and stonework walls. It also has a large ale selection, a sprawling outside seating area (complete with space heaters) and a rich Oxford history as the first pub outside the original city walls. It prides itself in being the place where Bill Clinton ''didn't inhale''. Becky.");

		
		marker = L.marker([51.74668, -1.25607], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The Head of the River</b><br>Pub on the river with a good outside terrace space, just in case we get nice weather. Becky.');
		
		marker = L.marker([51.75127, -1.25737], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup("<b>St. Aldates Tavern</b><br>Sunday night pub - buy your soft and alcoholic drinks at the bar downstairs then head upstairs to the Blue Room. We'll be having an informal catch up there for all those around on the Sunday evening before the conference starts.");
		
		// marker = L.marker([51.75077, -1.25935], {icon: beerIcon}).addTo(mymap);
		// marker.bindPopup('<b>The Royal Blenheim</b><br>Pembroke College official pub with a spread of real ale. Always got sport on the screens but never football. Try the pub quiz on Wednesday at 20:30 - one answer is always Cheese!' );
		
		marker = L.marker([51.75097, -1.25721], {icon: moneyIcon}).addTo(mymap);
		marker.bindPopup('<b>ATM</b><br>By the post office' );
		
		// marker = L.marker([51.75097, -1.25721], {icon: moneyIcon}).addTo(mymap);
		// marker.bindPopup('<b>ATM</b><br>By the post office');
		
		marker = L.marker([51.75209, -1.25784], {icon: moneyIcon}).addTo(mymap);
		marker.bindPopup('<b>ATM</b><br>Barclays on one side of the street - Lloyds TSB on the other.');
		
		marker = L.marker([51.75414, -1.25658], {icon: moneyIcon}).addTo(mymap);
		marker.bindPopup('<b>ATM</b><br>NatWest');
		
		// marker = L.marker([51.75217, -1.25591], {icon: moneyIcon}).addTo(mymap);
		// marker.bindPopup('<b>ATM</b><br>NatWest');
		
		marker = L.marker([51.74863, -1.25671], {icon: moneyIcon}).addTo(mymap);
		marker.bindPopup('<b>ATM</b><br>Inside Tesco - open daily 7am-11pm');
		
		marker = L.marker([51.75835, -1.26363], {icon: moneyIcon}).addTo(mymap);
		marker.bindPopup('<b>ATM</b><br>Inside the Co-Operative - will close in the evening');
		
		marker = L.marker([51.75467, -1.25911], {icon: moneyIcon}).addTo(mymap);
		marker.bindPopup('<b>ATM</b><br>Outside Tesco');
		
		marker = L.marker([51.75277, -1.25071], {icon: busIcon}).addTo(mymap);
		marker.bindPopup("<b>High Street and Queen's Lane Bus Stop</b><br>Bus Stop for travel towards London and London Airports");
		
		marker = L.marker([51.75259, -1.25102], {icon: busIcon}).addTo(mymap);
		marker.bindPopup('<b>High Street Bus Stop</b><br>Bus Stop for travel from London and airports');
		
		marker = L.marker([51.75403, -1.26275], {icon: busIcon}).addTo(mymap);
		marker.bindPopup('<b>Gloucester Green Bus Station</b><br>Main central bus station for all bus travel.');
		
		marker = L.marker([51.75339, -1.26976], {icon: busIcon}).addTo(mymap);
		marker.bindPopup('<b>Oxford Train Station</b>');
		
		marker = L.marker([51.75273, -1.26559], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup('<b>Sojo</b><br>Incredible Chinese food. Szechuan is particularly excellent, as is the Chilli Squid and the whole Sweet & Sour Sea Bass. Becky.');
		
		marker = L.marker([51.76092, -1.26739], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup('<b>Zheng</b><br>Amazing Chinese food with added Malaysian twist to the menu. Becky.');
		
		marker = L.marker([51.75711, -1.26619], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup("<b>Al Shaami</b><br>Really authentic Lebanese place. Just ask them to bring you food enough for the table and they'll do the rest. Becky.");
		
		marker = L.marker([51.75737, -1.25947], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The Lamb & Flag</b><br>Great pub - the Oxford Astronomer local with wood panelling, cosy low ceilings and open fire. Food only available at lunch time. All profits fund graduate students so never feel guilty about getting another round in. Becky.');
		
		marker = L.marker([51.7627, -1.26654], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The Gardeners Arms</b><br>Vegetarian food pub. Burgers you would never guess were meat free. Plus a sizeable Beer Garden in case we have nice weather! Becky.');
		
		marker = L.marker([51.7647, -1.26173], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The Rose and Crown</b><br>Best pub in the city for a pint of proper ale. Tiny inside but great covered outside space. Worth the trek I promise. Becky.');
		
		marker = L.marker([51.75444, -1.26071], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The White Rabbit</b><br>Cosy music pub with incredible stone baked pizza. Always get the garlic dough balls. Becky.');
		
		marker = L.marker([51.75825, -1.26392], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>Raouls</b><br>One of the top 50 cocktail bars in the world according to The Times. Tell them what you like and they will just invent something for you. Voted most likely place to find Chris Lintott in Oxford. Becky. ');
		
		marker = L.marker([51.74952, -1.24273], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup('<b>The Kazbar</b><br>Authentic and extremely delicious Mezze and Tapas. Great Morrocan vibe. There is a guitar above the bar! Becky.');
		
		marker = L.marker([51.75155, -1.25575], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The Bear</b><br>Oldest and smallest pub in Oxford. Good pub grub if you can find a table amongst all the framed ties. Becky.');
		
		marker = L.marker([51.74859, -1.23989], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup('<b>Atomic Burger</b><br>Taking burgers to epic proportions and portions. Becky.');
		
		marker = L.marker([51.75053, -1.25701], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup('<b>G&Ds </b><br>Ice Cream and Bagels. The pizza bagels are my favourite. Becky.');
		
		marker = L.marker([51.75295, -1.25611], {icon: coffeeIcon}).addTo(mymap);
		marker.bindPopup('<b>The Missing Bean </b><br>One of the best coffee nooks in Oxford.');
		
		marker = L.marker([51.75326, -1.26042], {icon: coffeeIcon}).addTo(mymap);
		marker.bindPopup('<b>Zappis</b><br>Bike cafe/bar. Student vibe. Try the banana bread. Becky. ');

		marker = L.marker([51.7534586,-1.2594668], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup('<b>Bills</b><br>Wholesome English/European food. ECR dinner is here! Mike');

		marker = L.marker([51.7597941,-1.2704638], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The Rickety Press</b><br>Delicious pub lunch and excellent own-brew 3 pound pints. Mike');

		marker = L.marker([51.7617262,-1.2700642], {icon: beerIcon}).addTo(mymap);
		marker.bindPopup('<b>The Victoria</b><br>Painted like the Sistine Chapel if Michelangelo had been drunk. Mike');

		marker = L.marker([51.7527189,-1.2589236], {icon: foodIcon}).addTo(mymap);
		marker.bindPopup('<b>The Covered Market</b><br>Bohemian shopping area with first-class nibbles. Look around! Mike');
		
		var popup = L.popup();

		function onMapClick(e) {
			popup
				.setLatLng(e.latlng)
				.setContent("You clicked the map at " + e.latlng.toString())
				.openOn(mymap);
		}

		mymap.on('click', onMapClick);
		
	</script>

</body>

</html>
